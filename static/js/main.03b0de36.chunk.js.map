{"version":3,"sources":["components/CategoryResults.js","components/SelectedCategories.js","components/Streams.js","App.js","reportWebVitals.js","index.js"],"names":["styles","container","display","flexWrap","gap","margin","categoryContainer","padding","backgroundColor","cursor","CategoryResults","resultCategories","onSelectCategory","categoryListComponent","map","cat","style","data-id","id","onClick","pointerEvents","name","length","selectedCategories","onDeleteCategory","className","src","box_art_url","replace","alt","Streams","useState","streams","setStreams","useEffect","a","game_ids","query","axios","post","JSON","stringify","variables","headers","Accept","data","streamListComponent","streamBatch","i","game_name","s","href","user_name","thumbnail_url","title","language","Intl","NumberFormat","format","viewer_count","App","categoryInput","setCategoryInput","setResultCategories","setSelectedCategories","onSubmit","e","preventDefault","category","method","type","value","onChange","target","find","c","dataset","indexOf","prevState","SelectedCategories","filter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.03b0de36.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst CategoryResults = ({ resultCategories, onSelectCategory }) => {\r\n  const categoryListComponent = resultCategories.map((cat) => (\r\n    <div\r\n      style={styles.categoryContainer}\r\n      key={cat.id}\r\n      data-id={cat.id}\r\n      onClick={onSelectCategory}\r\n    >\r\n      <p style={{ pointerEvents: 'none' }}>{cat.name}</p>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      {resultCategories.length > 0 ? (\r\n        categoryListComponent\r\n      ) : (\r\n        <h1>Search for some twitch categories</h1>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    gap: '0.5rem',\r\n    margin: '2rem 0rem',\r\n  },\r\n  categoryContainer: {\r\n    padding: '0.1rem 1rem',\r\n    backgroundColor: '#eee',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nexport default CategoryResults;\r\n","import React from 'react';\r\nimport './styles/selectedCategories.css';\r\nconst CategoryResults = ({ selectedCategories, onDeleteCategory }) => {\r\n  const categoryListComponent = selectedCategories.map((cat) => (\r\n    <div className=\"categoryContainer\" key={cat.id}>\r\n      <img\r\n        className=\"image\"\r\n        src={cat.box_art_url.replace('52x72', '300x400')}\r\n        alt=\"box art\"\r\n      />\r\n      <button\r\n        className=\"close-button\"\r\n        data-id={cat.id}\r\n        onClick={onDeleteCategory}\r\n      >\r\n        ‚ùå\r\n      </button>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    selectedCategories.length > 0 && (\r\n      <div className=\"category-list__container\">{categoryListComponent}</div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default CategoryResults;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport './styles/stream.css';\r\nconst Streams = ({ selectedCategories }) => {\r\n  const [streams, setStreams] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const game_ids = selectedCategories.map((cat) => cat.id);\r\n\r\n      let query = '';\r\n\r\n      if (game_ids.length > 0) {\r\n        query = `query streams($game_ids: [String]) {\r\n          streams(game_ids: $game_ids){\r\n            id\r\n            user_id\r\n            game_name\r\n            user_name\r\n            title\r\n            language\r\n            thumbnail_url\r\n            viewer_count\r\n          }\r\n        }`;\r\n      } else {\r\n        query = `query streams {\r\n          streams{\r\n            id\r\n            user_id\r\n            game_name\r\n            user_name\r\n            title\r\n            language\r\n            thumbnail_url\r\n            viewer_count\r\n          }\r\n        }`;\r\n      }\r\n\r\n      const {\r\n        data: {\r\n          data: { streams: data },\r\n        },\r\n      } = await axios.post(\r\n        'https://twitch-category-combiner.herokuapp.com/graphql',\r\n        JSON.stringify({ query, variables: { game_ids } }),\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Accept: 'application/json',\r\n          },\r\n        }\r\n      );\r\n      setStreams(data);\r\n    })();\r\n  }, [selectedCategories]);\r\n\r\n  const streamListComponent = streams.map((streamBatch, i) => (\r\n    <section className=\"stream__container\" key={i}>\r\n      {selectedCategories.length === 0 ? null : streamBatch[0] ? (\r\n        <h3>{streamBatch[0].game_name}</h3>\r\n      ) : null}\r\n      {streamBatch.map((s) => (\r\n        <a key={s.id} href={`http://twitch.tv/${s.user_name}`}>\r\n          <div className=\"stream\">\r\n            <div className=\"streamImage\">\r\n              <img\r\n                src={s.thumbnail_url.replace('{width}x{height}', '350x200')}\r\n                alt=\"stream thumbnail\"\r\n              />\r\n            </div>\r\n\r\n            <h3 id=\"stream-title\">{s.title}</h3>\r\n            <p>{s.user_name}</p>\r\n\r\n            <div className=\"tags\">\r\n              <span>Language: {s.language}</span>{' '}\r\n              <span>\r\n                {new Intl.NumberFormat('GB').format(s.viewer_count)} viewers\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      ))}\r\n    </section>\r\n  ));\r\n\r\n  return (\r\n    streamListComponent && (\r\n      <div className=\"stream-list-component\">{streamListComponent}</div>\r\n    )\r\n  );\r\n};\r\n\r\nexport default Streams;\r\n","import { useState } from 'react';\n\nimport axios from 'axios';\n\nimport CategoryResults from './components/CategoryResults';\nimport SelectedCategories from './components/SelectedCategories';\nimport Streams from './components/Streams';\n\nimport './components/styles/search.css';\n\nfunction App() {\n  const [categoryInput, setCategoryInput] = useState('');\n  const [resultCategories, setResultCategories] = useState([]);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n\n  const onSelectCategory = (e) => {\n    const category = resultCategories.find((c) => c.id === e.target.dataset.id);\n    if (\n      category &&\n      selectedCategories.indexOf(category) === -1 &&\n      selectedCategories.length <= 5\n    ) {\n      setSelectedCategories((prevState) => [...prevState, category]);\n    }\n  };\n\n  const onDeleteCategory = (e) => {\n    setSelectedCategories((prevState) =>\n      prevState.filter((c) => c.id !== e.target.dataset.id)\n    );\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const query = `query category($categoryInput: String!) {\n      category(categoryInput: $categoryInput){\n        name \n        id\n        box_art_url\n      }\n    }`;\n    const {\n      data: {\n        data: { category },\n      },\n    } = await axios.post(\n      'https://twitch-category-combiner.herokuapp.com/graphql',\n      JSON.stringify({ query, variables: { categoryInput } }),\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json',\n        },\n      }\n    );\n    setResultCategories(category);\n  };\n  return (\n    <div className=\"App\">\n      <form className=\"search\" method=\"post\" onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          value={categoryInput}\n          onChange={({ target: { value } }) => setCategoryInput(value)}\n        />\n        <button>üîé</button>\n      </form>\n      <CategoryResults\n        resultCategories={resultCategories}\n        onSelectCategory={onSelectCategory}\n      />\n\n      <SelectedCategories\n        selectedCategories={selectedCategories}\n        onDeleteCategory={onDeleteCategory}\n      />\n      <Streams selectedCategories={selectedCategories} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}