(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(2),c=n.n(r),i=n(18),s=n.n(i),o=n(3),u=n.n(o),l=n(6),d=n(19),g=n(4),j=n(8),m=n.n(j),p={container:{display:"flex",flexWrap:"wrap",gap:"0.5rem",margin:"2rem 0rem"},categoryContainer:{padding:"0.1rem 1rem",backgroundColor:"#eee",cursor:"pointer"}},h=function(e){var t=e.resultCategories,n=e.onSelectCategory,r=t.map((function(e){return Object(a.jsx)("div",{style:p.categoryContainer,"data-id":e.id,onClick:n,children:Object(a.jsx)("p",{style:{pointerEvents:"none"},children:e.name})},e.id)}));return Object(a.jsx)("div",{style:p.container,children:t.length>0?r:Object(a.jsx)("h1",{children:"Search for some twitch categories"})})},b=(n(44),function(e){var t=e.selectedCategories,n=e.onDeleteCategory,r=t.map((function(e){return Object(a.jsxs)("div",{className:"categoryContainer",children:[Object(a.jsx)("img",{className:"image",src:e.box_art_url.replace("52x72","300x400"),alt:"box art"}),Object(a.jsx)("button",{className:"close-button","data-id":e.id,onClick:n,children:"\u274c"})]},e.id)}));return t.length>0&&Object(a.jsx)("div",{className:"category-list__container",children:r})}),f=(n(45),function(e){var t=e.selectedCategories,n=Object(r.useState)([]),c=Object(g.a)(n,2),i=c[0],s=c[1];Object(r.useEffect)((function(){Object(l.a)(u.a.mark((function e(){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return e.id})),a="",a=n.length>0?"query streams($game_ids: [String]) {\n          streams(game_ids: $game_ids){\n            id\n            user_id\n            game_name\n            user_name\n            title\n            language\n            thumbnail_url\n            viewer_count\n          }\n        }":"query streams {\n          streams{\n            id\n            user_id\n            game_name\n            user_name\n            title\n            language\n            thumbnail_url\n            viewer_count\n          }\n        }",e.next=5,m.a.post("https://twitch-category-combiner.herokuapp.com/graphql",JSON.stringify({query:a,variables:{game_ids:n}}),{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 5:r=e.sent,c=r.data.data.streams,s(c);case 8:case"end":return e.stop()}}),e)})))()}),[t]);var o=i.map((function(e,n){return Object(a.jsxs)("section",{className:"stream__container",children:[0===t.length?null:e[0]?Object(a.jsx)("h3",{children:e[0].game_name}):null,e.map((function(e){return Object(a.jsx)("a",{href:"http://twitch.tv/".concat(e.user_name),children:Object(a.jsxs)("div",{className:"stream",children:[Object(a.jsx)("div",{className:"streamImage",children:Object(a.jsx)("img",{src:e.thumbnail_url.replace("{width}x{height}","350x200"),alt:"stream thumbnail"})}),Object(a.jsx)("h3",{id:"stream-title",children:e.title}),Object(a.jsx)("p",{children:e.user_name}),Object(a.jsxs)("div",{className:"tags",children:[Object(a.jsxs)("span",{children:["Language: ",e.language]})," ",Object(a.jsxs)("span",{children:[new Intl.NumberFormat("GB").format(e.viewer_count)," viewers"]})]})]})},e.id)}))]},n)}));return o&&Object(a.jsx)("div",{className:"stream-list-component",children:o})});n(46);var x=function(){var e=Object(r.useState)(""),t=Object(g.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)([]),s=Object(g.a)(i,2),o=s[0],j=s[1],p=Object(r.useState)([]),x=Object(g.a)(p,2),O=x[0],y=x[1],v=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"query category($categoryInput: String!) {\n      category(categoryInput: $categoryInput){\n        name \n        id\n        box_art_url\n      }\n    }",e.next=4,m.a.post("https://twitch-category-combiner.herokuapp.com/graphql",JSON.stringify({query:"query category($categoryInput: String!) {\n      category(categoryInput: $categoryInput){\n        name \n        id\n        box_art_url\n      }\n    }",variables:{categoryInput:n}}),{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 4:a=e.sent,r=a.data.data.category,j(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("form",{className:"search",method:"post",onSubmit:v,children:[Object(a.jsx)("input",{type:"text",value:n,onChange:function(e){var t=e.target.value;return c(t)}}),Object(a.jsx)("button",{children:"\ud83d\udd0e"})]}),Object(a.jsx)(h,{resultCategories:o,onSelectCategory:function(e){var t=o.find((function(t){return t.id===e.target.dataset.id}));t&&-1===O.indexOf(t)&&O.length<=5&&y((function(e){return[].concat(Object(d.a)(e),[t])}))}}),Object(a.jsx)(b,{selectedCategories:O,onDeleteCategory:function(e){y((function(t){return t.filter((function(t){return t.id!==e.target.dataset.id}))}))}}),Object(a.jsx)(f,{selectedCategories:O})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};n(47);s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(x,{})}),document.getElementById("root")),O()}},[[48,1,2]]]);
//# sourceMappingURL=main.03b0de36.chunk.js.map